<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Bot Solutions - Next-Gen Customer Engagement</title>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600&family=Roboto:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <style>
        /* Inline styles to replace Tailwind CSS */
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Raleway', sans-serif;
        }
        .swiper-slide {
            background-size: cover;
            background-position: center;
        }
        #app {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        #chat {
            height: 300px;
            overflow-y: auto;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        /* Add more styles here to replace Tailwind classes */
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="#">AI Bot Solutions</a>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Features</a></li>
                <li><a href="#">Pricing</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide" style="background-image: url('https://images.unsplash.com/photo-1531746790731-6c087fecd65a?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80');"></div>
                    <div class="swiper-slide" style="background-image: url('https://images.unsplash.com/photo-1551434678-e076c223a692?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80');"></div>
                    <div class="swiper-slide" style="background-image: url('https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80');"></div>
                </div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
            <div class="hero-content">
                <h3>Next-Gen Customer Engagement</h3>
                <h1>AI Bots with Emotions</h1>
                <p>Experience the future of customer service with our AI bots that understand and respond to human emotions. Boost your CRM and phone room efficiency today!</p>
                <div class="cta-buttons">
                    <a href="#" class="cta-primary">Get Started</a>
                    <a href="#" class="cta-secondary" id="playVideo">
                        <span>Watch Demo</span>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                        </svg>
                    </a>
                </div>
            </div>
        </section>

        <!-- Other sections remain unchanged -->

    </main>

    <div id="videoModal" class="modal">
        <div class="modal-content">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="AI Bot Demo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <button id="closeVideo">Close</button>
        </div>
    </div>

    <div id="app">
      <div id="btn-container">
        <button id="start-btn">Start</button>
        <button id="stop-btn" disabled>Stop</button>
      </div>
      <div id="heading-container">
        <h2>Welcome to AI Bot Solutions</h2>
        <p>
           Experience our emotional AI bot firsthand!
          Click the "Start" button and begin talking to interact with our AI.
        </p>
      </div>
      <div id="chat"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            new Swiper('.swiper-container', {
                loop: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                autoplay: {
                    delay: 5000,
                },
                effect: 'fade',
            });

            const videoModal = document.getElementById('videoModal');
            const playVideo = document.getElementById('playVideo');
            const closeVideo = document.getElementById('closeVideo');

            playVideo.addEventListener('click', function(e) {
                e.preventDefault();
                videoModal.style.display = 'flex';
            });

            closeVideo.addEventListener('click', function() {
                videoModal.style.display = 'none';
            });

            // Bot functionality
            const startBtn = document.getElementById('start-btn');
            const stopBtn = document.getElementById('stop-btn');
            const chatDiv = document.getElementById('chat');

            let isListening = false;
            let socket = null;

            function connect() {
                socket = new WebSocket('wss://evi-typescript-example-m2z3.vercel.app/ws/ws');

                socket.onopen = function() {
                    console.log('WebSocket connection opened');
                };

                socket.onmessage = function(event) {
                    const message = JSON.parse(event.data);
                    if (message.type === 'transcription') {
                        chatDiv.innerHTML += `<p>You: ${message.text}</p>`;
                    } else if (message.type === 'bot_response') {
                        chatDiv.innerHTML += `<p>Bot: ${message.text}</p>`;
                        speak(message.text);
                    }
                };

                socket.onclose = function() {
                    console.log('WebSocket connection closed');
                    isListening = false;
                    startBtn.disabled = false;
                    stopBtn.disabled = true;
                };

                socket.onerror = function(error) {
                    console.error('WebSocket error:', error);
                };
            }

            function disconnect() {
                if (socket) {
                    socket.close();
                }
            }

            function speak(text) {
                const utterance = new SpeechSynthesisUtterance(text);
                speechSynthesis.speak(utterance);
            }

            startBtn.addEventListener('click', function() {
                if (!isListening) {
                    isListening = true;
                    connect();
                    startBtn.disabled = true;
                    stopBtn.disabled = false;
                    chatDiv.innerHTML += '<p>Listening...</p>';
                }
            });

            stopBtn.addEventListener('click', function() {
                if (isListening) {
                    isListening = false;
                    disconnect();
                    startBtn.disabled = false;
                    stopBtn.disabled = true;
                    chatDiv.innerHTML += '<p>Stopped listening.</p>';
                }
            });

            // Initialize microphone
            navigator.mediaDevices.getUserMedia({ audio: true })
                .then(function(stream) {
                    const mediaRecorder = new MediaRecorder(stream);
                    let audioChunks = [];

                    mediaRecorder.ondataavailable = function(event) {
                        audioChunks.push(event.data);
                    };

                    mediaRecorder.onstop = function() {
                        const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                        if (socket && socket.readyState === WebSocket.OPEN) {
                            socket.send(audioBlob);
                        }
                        audioChunks = [];
                    };

                    setInterval(function() {
                        if (isListening) {
                            mediaRecorder.stop();
                            mediaRecorder.start();
                        }
                    }, 5000);
                })
                .catch(function(error) {
                    console.error('Error accessing microphone:', error);
                });
        });
    </script>
</body>
</html>
